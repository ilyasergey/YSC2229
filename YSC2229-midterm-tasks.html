

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7. YSC2229: Midterm Project, Week 07 &mdash; YSC2229 2019</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="6. YSC2229 Lecture Notes, Week 06" href="YSC2229-lecture-notes-week-06.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> YSC2229: Introductory Data Structures and Algorithms
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="YSC2229-lecture-notes-week-01.html">1. YSC2229 Lecture Notes, Week 01</a></li>
<li class="toctree-l1"><a class="reference internal" href="YSC2229-lecture-notes-week-02.html">2. YSC2229 Lecture Notes, Week 02</a></li>
<li class="toctree-l1"><a class="reference internal" href="YSC2229-lecture-notes-week-03.html">3. YSC2229 Lecture Notes, Week 03</a></li>
<li class="toctree-l1"><a class="reference internal" href="YSC2229-lecture-notes-week-04.html">4. YSC2229 Lecture Notes, Week 04</a></li>
<li class="toctree-l1"><a class="reference internal" href="YSC2229-lecture-notes-week-05.html">5. YSC2229 Lecture Notes, Week 05</a></li>
<li class="toctree-l1"><a class="reference internal" href="YSC2229-lecture-notes-week-06.html">6. YSC2229 Lecture Notes, Week 06</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7. YSC2229: Midterm Project, Week 07</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#warm-up-missing-non-negative-integer">7.1. Warm-up: missing non-negative integer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#array-permutations">7.2. Array permutations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#an-array-based-memory-allocator">7.3. An array-based memory allocator</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">YSC2229: Introductory Data Structures and Algorithms</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>7. YSC2229: Midterm Project, Week 07</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ysc2229-midterm-project-week-07">
<h1>7. YSC2229: Midterm Project, Week 07<a class="headerlink" href="#ysc2229-midterm-project-week-07" title="Permalink to this headline">¶</a></h1>
<p>The midterm project is composed of 3 mini-projects of different sizes.</p>
<p>Submit your solutions and the reports, as for usual assignments, via Canvas.</p>
<p>You are encouraged to use Git and GitHub to efficiently coordinate and synchronise your joint efforts. If not sure how to use GitHub, feel free to send me an email or drop by during office hours.</p>
<div class="section" id="warm-up-missing-non-negative-integer">
<h2>7.1. Warm-up: missing non-negative integer<a class="headerlink" href="#warm-up-missing-non-negative-integer" title="Permalink to this headline">¶</a></h2>
<p>Given an array of integers, find the smallest non-negative integer that does not occur in this array.  (The array can be overwritten.) What is the complexity in time and in space of your solution?</p>
<ul class="simple">
<li>N.B.: The given array is unsorted, it may contain positive and negative integers, and these integers may be duplicated.</li>
<li>N.B.: A solution in linear time time and constant space exists.</li>
</ul>
<p>Use the following code to test your solution (referred to as <code class="docutils literal notranslate"><span class="pre">candidate</span></code>):</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">test_smallest_missing_non_negative_integer</span> <span class="n">candidate</span> <span class="o">=</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">0</span><span class="o">;</span> <span class="mi">1</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">1</span><span class="o">;</span> <span class="mi">0</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">0</span><span class="o">;</span> <span class="mi">1</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="o">~-</span><span class="mi">4</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">1</span><span class="o">;</span> <span class="o">~-</span><span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="o">~-</span><span class="mi">1</span><span class="o">;</span> <span class="mi">0</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">3</span><span class="o">;</span> <span class="mi">1</span><span class="o">;</span> <span class="mi">0</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">0</span><span class="o">;</span> <span class="mi">10</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">33</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">5</span><span class="o">;</span> <span class="mi">100</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">0</span><span class="o">;</span> <span class="mi">10</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">33</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">5</span><span class="o">;</span> <span class="mi">1</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">4</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">0</span><span class="o">;</span> <span class="mi">10</span><span class="o">;</span> <span class="mi">11</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">7</span><span class="o">;</span> <span class="mi">6</span><span class="o">;</span> <span class="mi">6</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">33</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">5</span><span class="o">;</span> <span class="mi">1</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">4</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">0</span><span class="o">;</span> <span class="mi">10</span><span class="o">;</span> <span class="mi">11</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="o">~-</span><span class="mi">33</span><span class="o">;</span> <span class="mi">7</span><span class="o">;</span> <span class="mi">6</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">6</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">33</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">5</span><span class="o">;</span> <span class="mi">1</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">8</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">5</span><span class="o">;</span> <span class="mi">6</span><span class="o">;</span> <span class="o">~-</span><span class="mi">33</span><span class="o">;</span> <span class="o">~-</span><span class="mi">33</span><span class="o">;</span> <span class="o">~-</span><span class="mi">33</span><span class="o">;</span> <span class="mi">7</span><span class="o">;</span> <span class="mi">8</span><span class="o">;</span> <span class="mi">9</span><span class="o">;</span> <span class="o">~-</span><span class="mi">33</span><span class="o">;</span> <span class="o">~-</span><span class="mi">34</span><span class="o">;</span> <span class="mi">12</span><span class="o">;</span> <span class="mi">12</span><span class="o">;</span> <span class="mi">0</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">10</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">5</span><span class="o">;</span> <span class="mi">6</span><span class="o">;</span> <span class="mi">7</span><span class="o">;</span> <span class="mi">8</span><span class="o">;</span> <span class="mi">9</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">candidate</span> <span class="o">(</span><span class="nn">Array</span><span class="p">.</span><span class="n">copy</span> <span class="o">[|</span><span class="mi">10</span><span class="o">;</span> <span class="mi">9</span><span class="o">;</span> <span class="mi">8</span><span class="o">;</span> <span class="mi">7</span><span class="o">;</span> <span class="mi">0</span><span class="o">;</span> <span class="mi">6</span><span class="o">;</span> <span class="mi">5</span><span class="o">;</span> <span class="mi">4</span><span class="o">;</span> <span class="mi">3</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">1</span><span class="o">|])</span> <span class="o">=</span> <span class="mi">11</span><span class="o">)</span>
  <span class="c">(* etc. *)</span><span class="o">;;</span>
</pre></div>
</div>
</div>
<div class="section" id="array-permutations">
<h2>7.2. Array permutations<a class="headerlink" href="#array-permutations" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Given an array <code class="docutils literal notranslate"><span class="pre">a</span></code> of values of arbitrary type <code class="docutils literal notranslate"><span class="pre">'t</span></code>, implement a function <code class="docutils literal notranslate"><span class="pre">permutations</span> <span class="pre">:</span> <span class="pre">'t</span> <span class="pre">array</span> <span class="pre">-&gt;</span> <span class="pre">'t</span> <span class="pre">array</span> <span class="pre">list</span></code>, which generates the list of all possible permutations of the array <code class="docutils literal notranslate"><span class="pre">a</span></code>. Write tests for this function to check that some particular “interesting” permutations are included. For instance, for an array <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">[|1;</span> <span class="pre">2;</span> <span class="pre">3|]</span></code>, <code class="docutils literal notranslate"><span class="pre">permutations</span> <span class="pre">a</span></code> should return some permutation of the list <code class="docutils literal notranslate"><span class="pre">[[|1;</span> <span class="pre">2;</span> <span class="pre">3|];</span> <span class="pre">[|1;</span> <span class="pre">3;</span> <span class="pre">2|];</span> <span class="pre">[|2;</span> <span class="pre">1;</span> <span class="pre">3|];</span> <span class="pre">[|2;</span> <span class="pre">3;</span> <span class="pre">1|];</span> <span class="pre">[|3;</span> <span class="pre">1;</span> <span class="pre">2|];</span> <span class="pre">[|3;</span> <span class="pre">2;</span> <span class="pre">1|]]</span></code>.</li>
<li>Implement a function <code class="docutils literal notranslate"><span class="pre">perm</span> <span class="pre">:</span> <span class="pre">'t</span> <span class="pre">array</span> <span class="pre">-&gt;</span> <span class="pre">int</span> <span class="pre">-&gt;</span> <span class="pre">'t</span> <span class="pre">array</span></code> that, given an array <code class="docutils literal notranslate"><span class="pre">a</span></code> and a non-negative integer <code class="docutils literal notranslate"><span class="pre">m</span></code>, returns the m-th permutation of the array. Explain how it works. You are at freedom to choose how permutations are enumerated. As an example, for <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">[|1;</span> <span class="pre">2;</span> <span class="pre">3|]</span></code>, <code class="docutils literal notranslate"><span class="pre">perm</span> <span class="pre">a</span> <span class="pre">0</span></code> should return <code class="docutils literal notranslate"><span class="pre">[|1;</span> <span class="pre">2;</span> <span class="pre">3|]</span></code>, and <code class="docutils literal notranslate"><span class="pre">perm</span> <span class="pre">a</span> <span class="pre">1</span></code> <em>might</em> return <code class="docutils literal notranslate"><span class="pre">[|1;</span> <span class="pre">3;</span> <span class="pre">2|]</span></code> or <code class="docutils literal notranslate"><span class="pre">[|2;</span> <span class="pre">1;</span> <span class="pre">3|]</span></code>. Make sure that first returned <code class="docutils literal notranslate"><span class="pre">n!</span></code> permutations (where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the array size) are all distinct, and if <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">&gt;</span> <span class="pre">n!</span></code>, the initial array should not be modified. While expensive computationally, your function may only use constant amount of memory besides the size of the initial array (i.e., you cannot allocate new arrays). Explain the invariants of your function in writing.</li>
<li><strong>Impractical sorting:</strong> Implement a provably correct sorting algorithm with worst-case complexity <span class="math notranslate nohighlight">\(O((n + 1)!)\)</span>. Explain its correctness and describe the loop invariant.</li>
<li>[Bonus] <strong>Ridiculously impractical sorting:</strong> Implement a provably correct sorting algorithm with worst-case complexity <span class="math notranslate nohighlight">\(O(\prod_{i=1}^{n}(i!))\)</span>. Explain the complexity.</li>
</ol>
<ul class="simple">
<li>N.B.: The first two tasks naturally require you to make use of recursion and loops in tandem.</li>
<li>N.B.: In the second task, it’s beneficial to consider parameter <code class="docutils literal notranslate"><span class="pre">m</span></code> as a “fuel” of <code class="docutils literal notranslate"><span class="pre">perm</span></code>.</li>
</ul>
</div>
<div class="section" id="an-array-based-memory-allocator">
<h2>7.3. An array-based memory allocator<a class="headerlink" href="#an-array-based-memory-allocator" title="Permalink to this headline">¶</a></h2>
<p>How do we implement references and pointers in languages that do not provide them? In this mini-project you will develop solution for implementing linked data structures without an explicit <code class="docutils literal notranslate"><span class="pre">ref</span></code> type, by means of implementing a custom memory allocator.</p>
<p>In order to implement a machinery for dynamically allocating references, we notice that on can represent a collection of similar values (e.g., of type <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">string</span></code>) by packaging them into arrays, so such arrays will play the role of random-access memory. For instance, two consecutive nodes with the payloads <code class="docutils literal notranslate"><span class="pre">(15,</span> <span class="pre">&quot;a&quot;)</span></code> and <code class="docutils literal notranslate"><span class="pre">(42,</span> <span class="pre">&quot;b&quot;)</span></code> of a double-linked list containing pairs of integers can be encoded by sub-segments of following three arrays: one for pointer “addresses”, one for integers, and one for strings:</p>
<a class="reference internal image-reference" href="_images/alloc.png"><img alt="_images/alloc.png" class="align-center" src="_images/alloc.png" style="width: 800px;" /></a>
<p>A list “node” (<code class="docutils literal notranslate"><span class="pre">dll_node</span></code>) is simply a segment of four consecutive entries in a pointer array, with the corresponding links to an integer and a string part of the payload. Therefore, in order to work with a double-linked list represented via three arrays, one should manipulate with the encoding of references in by means of changing the contents of those arrays.</p>
<p>In this project, you are expected to deliver the following artefacts:</p>
<ul class="simple">
<li>An implementation of an array-based memory allocator that can provide storage (of a <em>fixed limited</em> capacity) for dynamically “allocated” pointers, integers, and strings, with a possibility of updating them. Similarly to languages without automatic memory management, such as C, it should be possible to both allocate and “free” consecutive pointer segments, making it possible to reuse the memory. The template code for the memory manager is available by <a class="reference external" href="./resources/2019/memory_manager.ml">at this link</a>.</li>
<li>An implementation of a double-linked list, built on top of the allocator interface via the abstract “heap” it provides and the operations for manipulating with the pointers. Feel free to extend the <code class="docutils literal notranslate"><span class="pre">Allocator</span></code> signature if you can think of more expressive operations with the heap.</li>
<li>An implementation of a queue data type, following the <a class="reference external" href="./resources/2019/week_06.ml">Module Signature from Week 6</a> and tests for checking that it indeed behaves like a queue.</li>
</ul>
<p>The nature of the task imposes some restrictions and hints some observations:</p>
<ul class="simple">
<li>You may <strong>not</strong> use OCaml’s references (i.e., values of type <cite>ref</cite>) in this mini-project.</li>
<li>As you remember, pointers and arrays are somewhat similar. Specifically, most of the pointer operations expect not just the pointer <code class="docutils literal notranslate"><span class="pre">p</span></code> value but also a non-negative integer “offset” <code class="docutils literal notranslate"><span class="pre">o</span></code>, so that the considered value is located by the “address” <code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">+</span> <span class="pre">o</span></code>.</li>
<li>The allocator only has to provide storage and the machinery to manipulate references storing (a) integers, (b) strings, and (c) pointers which can point to either of the three kinds of values. You are not expected to support references to any other composite data types (such as, e.g., pairs). However, you might need to encode those data types using consecutive pointers with offsets.</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="YSC2229-lecture-notes-week-06.html" class="btn btn-neutral" title="6. YSC2229 Lecture Notes, Week 06" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Ilya Sergey

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"extensions": ["tex2jax.js"], "jax": ["input/TeX", "output/HTML-CSS"]})</script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>